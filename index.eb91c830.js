function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequire1bb5;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequire1bb5=a),a("kyEFX").register(JSON.parse('{"5ZPII":"index.eb91c830.js","2RAnE":"close.bafb75e3.svg","faS3W":"amazon_icon.626c9508.png","k709t":"book_icon.652b354e.png","5T9zs":"book_icon2.1d091ebd.png","1JYfj":"up.0f50995b.svg","KPks6":"index.7bedafa7.js"}')),a("guRtp");var s=a("2shzp");async function l(){return await s.default.get("books/category-list")}s=a("2shzp");async function c(e){return await s.default.get(`/books/category?category=${e}`)}const r=(e,t,o,n,a,s)=>`<li class="card_book" >\n    <div class="thumb_book data_modal_open" >\n    <img src=${e} widtht=${o} height=${t} data-id=${s}>\n    </div>\n    <div class="book_title">\n    <p class="author_book">${n}</p>\n    <p class="subtitle_book subtitle">${a}</p>\n    </div>\n    </li>`;s=a("2shzp");async function i(e){return await s.default.get(`https://books-backend.p.goit.global/books/${e}`)}var d,_=a("jfMA0"),u=a("jnY0j"),m=a("5rmXh");d=new URL(a("kyEFX").resolve("2RAnE"),import.meta.url).toString();var g;g=new URL(a("kyEFX").resolve("faS3W"),import.meta.url).toString();var b;b=new URL(a("kyEFX").resolve("k709t"),import.meta.url).toString();var y;y=new URL(a("kyEFX").resolve("5T9zs"),import.meta.url).toString();const h=document.querySelector(".backdrop"),p=document.querySelector(".thumb_icons"),k=document.querySelector(".thumb_modal_img"),L=document.querySelector(".modal__btn_close"),E=document.querySelector(".data_modal"),f=document.querySelector(".js_btn_add"),v=document.querySelector(".js_btn_remove"),S=document.querySelector(".js_modal_text_remove");let T=[],H="";const j=()=>{E.classList.toggle("is-hidden");const e=document.querySelector(".modal__icon_close");m.dataTheme===m.DARK_THEME?e.classList.add("modal__icon_close_dark"):e.classList.remove("modal__icon_close_dark")},w=`<img\n          class="modal__icon_close"\n          alt="close"\n          width="18"\n          height="18"\n           src=${e(d)}\n        />`,A=async t=>{try{(({_id:t,list_name:o,title:n,author:a,book_image:s,buy_links:l})=>{const c={id:t,list_name:o,title:n,author:a,book_image:s,buy_links:l};let r=(0,_.getShoppingList)();T.length=0,T=[...r];let i=!1;0!==T.length&&(i=!!r.find((e=>e.id===t)));const d=`<img\n          class="modal_img_book"\n          src=${s}\n          alt="book"\n          width="192"\n          height="281"\n        />`;k.innerHTML="",k.insertAdjacentHTML("beforeEnd",d),document.querySelector(".modal_title").textContent=n,document.querySelector(".modal_subtitle").textContent=a;const u=`<a class="modal__link_amazon" href=${l[0].url} target="_blank"><img\n          class="modal__icon_shoplink"\n          src=${e(g)}\n          alt="logo"\n          width="62"\n          height="19"\n        /></a><a class="modal__link_book" href=${l[1].url} target="_blank" ><img\n          class="modal__icon_shoplink"\n          src=${e(b)}\n          alt="logo"\n          width="20"\n          height="20"\n        /></a><a class="modal__link_books" href=${l[2].url} target="_blank" >\n        <img\n          class="modal__icon_shoplink"\n          src=${e(y)}\n          alt="logo"\n          width="20"\n          height="20"\n        /></a>`;p.innerHTML="",p.insertAdjacentHTML("beforeEnd",u),document.querySelectorAll(".modal__icon_shoplink").forEach((e=>{m.dataTheme===m.DARK_THEME?(e.classList.add("modal__icon_dark"),e.classList.remove("modal__icon_light")):(e.classList.add("modal__icon_light"),e.classList.remove("modal__icon_dark"))})),i?(f.style.display="none",v.style.display="flex",S.style.display="flex"):(T.push(c),v.style.display="none",S.style.display="none",f.style.display="flex")})((await i(t)).data)}catch(e){console.log(e.message)}},q=e=>{e.preventDefault(),j()},M=()=>{document.removeEventListener("keydown",$),h.removeEventListener("click",R)},$=e=>{let t=!1;t="key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode,t&&(j(),M())},R=e=>{e.currentTarget===e.target&&(j(),M())},C=()=>{(0,_.setShoppingList)(T),j(),M()},x=()=>{(()=>{const e=(0,_.getShoppingList)().filter((e=>e.id!==H));(0,_.setShoppingList)(e)})(),j(),M()},F=e=>{e.preventDefault(),H=e.target.dataset.id,(0,u.setClassModule)(),j(),A(H),document.addEventListener("keydown",$),h.addEventListener("click",R)},U=()=>{(0,m.getTheme)(),L.innerHTML="",L.insertAdjacentHTML("beforeEnd",w);document.querySelector(".data_modal_close").addEventListener("click",q),f.addEventListener("click",C),v.addEventListener("click",x),(0,u.setClassModule)()};u=a("jnY0j"),m=a("5rmXh");const X=document.querySelector(".all_books_list"),z=document.querySelector(".btn_all_categories"),Y=(e,t)=>{X.innerHTML="";const o=e.map((({book_image:e,book_image_height:t,book_image_width:o,author:n,title:a,_id:s})=>r(e,t,o,n,a,s))).join(" ");X.innerHTML="",X.insertAdjacentHTML("afterbegin",o),X.classList.remove("js_all_categories"),X.classList.add("js_one_category"),console.log("befor title",t),(e=>{const t=document.querySelector(".title_page"),o=e.trim().split(" ");console.dir(o);const n=o.length,a=o.pop(),s=`${o.slice(0,n-1).join(" ")}<span class="color_accent_light"> ${a}</span>`;t.innerHTML="",t.insertAdjacentHTML("beforeEnd",s)})(t);document.querySelectorAll(".data_modal_open").forEach((e=>e.addEventListener("click",F))),(0,u.setClassSubtitleAuthor)()},D=async e=>{try{const t=await c(e);Y(t.data,e)}catch(e){console.log(e.message)}},N=e=>{z.classList.remove("btn_category_active_light"),z.classList.remove("btn_category_active_dark");const t=`[data-category="${e}"]`,o=document.querySelector(t);m.dataTheme===m.LIGHT_THEME?o.classList.add("btn_category_active_light"):o.classList.add("btn_category_active_dark"),D(e)};s=a("2shzp");async function O(){return await s.default.get("/books/top-books")}u=a("jnY0j");const B=document.querySelector(".all_books_list"),I=document.querySelector(".title_page"),K=e=>{N(e.target.dataset.category)},P=(e,t)=>{return`<li class="category_books">\n    <h3 class="books_subtitle books_subtitle_light">${e}</h3>\n    <ul class="books_list_one">\n    ${o=t,o.map((({book_image:e,book_image_height:t,book_image_width:o,author:n,title:a,_id:s})=>r(e,t,o,n,a,s))).join(" ")}\n  </ul>\n  <button type="button" class="btn btn_more" data-category="${e.slice(0,e.length)}">see more</button>\n  </li>`;var o},G=async()=>{try{(e=>{const t=e.map((({list_name:e,books:t})=>P(e,t))).join(" ");B.innerHTML="",B.insertAdjacentHTML("beforeEnd",t),B.classList.remove("js_one_category"),B.classList.add("js_all_categories"),document.querySelectorAll(".btn_more").forEach((e=>{e.addEventListener("click",K)})),document.querySelectorAll(".data_modal_open").forEach((e=>e.addEventListener("click",F))),(0,u.setClassSubtitleAuthor)(),(0,u.setClassBtn)()})((await O()).data)}catch(e){console.log(e.message)}},J=()=>{G(),I.innerHTML="",I.insertAdjacentHTML("beforeEnd",'Best Sellers <span class="color_accent_light">Books</span>'),(0,u.setClassTopCategories)()};m=a("5rmXh"),u=a("jnY0j");const W=document.querySelector(".categories_list"),Z=document.querySelector(".btn_all_categories"),Q=e=>{const t=e.target.dataset.category;console.log("load books one",t);const o=document.querySelectorAll(".btn_category");m.dataTheme===m.LIGHT_THEME?(o.forEach((e=>e.classList.remove("btn_category_active_light"))),e.target.classList.add("btn_category_active_light")):(o.forEach((e=>e.classList.remove("btn_category_active_dark"))),e.target.classList.add("btn_category_active_dark")),"all categories"!==t&&N(t.trim())};Z.addEventListener("click",J);const V=async()=>{try{return await l()}catch(e){console.log(e)}},ee=async()=>{try{const e=await V();(e=>{const t=e.map((({list_name:e})=>(e=>`<li class="category">\n  <button type="button" class="btn_category" data-category="${e.slice(0,e.length)}">${e} </button>\n  </li>`)(e))).join("");W.insertAdjacentHTML("beforeEnd",t),document.querySelectorAll(".category").forEach((e=>e.addEventListener("click",Q)))})([...e.data]),(0,u.btnCategories)()}catch(e){console.log(e.message)}};var te,oe=a("jUxgi"),ne=a("69PN8"),ae=a("iC2xK"),se=a("cdre4");te=new URL(a("kyEFX").resolve("1JYfj"),import.meta.url).toString();const le=document.querySelector(".scroll_up");le.addEventListener("click",(function(){console.log("scrollUp"),document.body.scrollTop=0,document.documentElement.scrollTop=0}));const ce=`<img\n      class="img_scroll_up"\n      src=${e(te)}\n      alt="logo"\n      width="64"\n      height="64"\n  />`;le.insertAdjacentHTML("beforeEnd",ce);u=a("jnY0j");window.addEventListener("load",(()=>{U(),(0,ne.renderHeader)(ae.CURRENT_PAGE_HOME),(0,se.openMenu)(),ee(),(0,oe.loadSupport)(),J(),(0,u.setClassByTheme)(),(0,u.setClassHeader)(),(0,u.setClassTitle)()})),window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?le.style.display="block":le.style.display="none"};
//# sourceMappingURL=index.eb91c830.js.map
