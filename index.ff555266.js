!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=e.parcelRequire1bb5;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){r[t]=e},e.parcelRequire1bb5=o),o("iE7OH").register(JSON.parse('{"EVgbq":"index.ff555266.js","ilVCE":"close.bafb75e3.svg","2KuVw":"amazon_icon.626c9508.png","jNWt2":"book_icon.652b354e.png","925SJ":"book_icon2.1d091ebd.png","jX5JJ":"up.0f50995b.svg","9r3ZO":"index.6f3eb24c.js"}')),o("fNosA");var a={};function c(t,e,n,r,o,a,c){try{var i=t[a](c),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,s,"next",t)}function s(t){c(a,r,o,i,s,"throw",t)}i(void 0)}))}};var i=o("8nrFW"),s={},l=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new H(r||[]);return a._invoke=function(t,e,n){var r=d;return function(o,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw a;return q()}for(n.method=o,n.arg=a;;){var c=n.delegate;if(c){var i=x(c,n);if(i){if(i===_)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=u(t,e,n);if("normal"===s.type){if(r=n.done?p:f,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(t,n,c),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",_={};function g(){}function v(){}function m(){}var y={};s(y,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(j([])));k&&k!==n&&r.call(k,a)&&(y=k);var w=m.prototype=g.prototype=Object.create(y);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,a,c,i){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(d).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,i)}))}i(s.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function x(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var o=u(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,_;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,_):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function H(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,c=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return c.next=c}}return{next:q}}function q(){return{value:e,done:!0}}return v.prototype=m,s(w,"constructor",m),s(m,"constructor",v),v.displayName=s(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,i,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(L.prototype),s(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var c=new L(l(e,n,r,o),a);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},E(w),s(w,i,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,H.prototype={constructor:H,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return i.type="throw",i.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a],i=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var s=r.call(c,"catchLoc"),l=r.call(c,"finallyLoc");if(s&&l){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var c=a?a.completion:{};return c.type=t,c.arg=e,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),_}},t}(s);try{regeneratorRuntime=l}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}var u=o("dIxxU");function d(){return f.apply(this,arguments)}function f(){return(f=t(a)(t(s).mark((function e(){var n;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.default.get("books/category-list");case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}u=o("dIxxU");function h(t){return p.apply(this,arguments)}function p(){return(p=t(a)(t(s).mark((function e(n){var r;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.default.get("/books/category?category=".concat(n));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var _=function(t,e,n,r,o,a){return'<li class="card_book" >\n    <div class="thumb_book data_modal_open" >\n    <img src='.concat(t," widtht=").concat(n," height=").concat(e," data-id=").concat(a,'>\n    </div>\n    <div class="book_title">\n    <p class="author_book">').concat(r,'</p>\n    <p class="subtitle_book subtitle">').concat(o,"</p>\n    </div>\n    </li>")};i=o("8nrFW"),u=o("dIxxU");function g(t){return v.apply(this,arguments)}function v(){return(v=t(a)(t(s).mark((function e(n){var r;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.default.get("https://books-backend.p.goit.global/books/".concat(n));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var m,y=o("gTvbq"),b=o("lnrm6"),k=o("f2JhC");m=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("ilVCE");var w;w=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("2KuVw");var E;E=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("jNWt2");var L;L=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("925SJ");var x,S=document.querySelector(".backdrop"),T=document.querySelector(".thumb_icons"),H=document.querySelector(".thumb_modal_img"),j=document.querySelector(".modal__btn_close"),q=document.querySelector(".data_modal"),A=document.querySelector(".js_btn_add"),M=document.querySelector(".js_btn_remove"),C=document.querySelector(".js_modal_text_remove"),O=[],R="",N=function(){q.classList.toggle("is-hidden");var t=document.querySelector(".modal__icon_close");k.dataTheme===k.DARK_THEME?t.classList.add("modal__icon_close_dark"):t.classList.remove("modal__icon_close_dark")},F='<img\n          class="modal__icon_close"\n          alt="close"\n          width="18"\n          height="18"\n           src='.concat(t(m),"\n        />"),J=function(e){var n=e._id,r=e.list_name,o=e.title,a=e.author,c=e.book_image,s=e.buy_links;newBookShopping={id:n,list_name:r,title:o,author:a,book_image:c,buy_links:s};var l=(0,y.getShoppingList)();O.length=0;var u=!1;0!==(O=t(i)(l)).length&&(u=!!l.find((function(t){return t.id===n})));var d='<img\n          class="modal_img_book"\n          src='.concat(c,'\n          alt="book"\n          width="192"\n          height="281"\n        />');H.innerHTML="",H.insertAdjacentHTML("beforeEnd",d),document.querySelector(".modal_title").textContent=o,document.querySelector(".modal_subtitle").textContent=a;var f='<a class="modal__link_amazon" href='.concat(s[0].url,' target="_blank"><img\n          class="modal__icon_shoplink"\n          src=').concat(t(w),'\n          alt="logo"\n          width="62"\n          height="19"\n        /></a><a class="modal__link_book" href=').concat(s[1].url,' target="_blank" ><img\n          class="modal__icon_shoplink"\n          src=').concat(t(E),'\n          alt="logo"\n          width="20"\n          height="20"\n        /></a><a class="modal__link_books" href=').concat(s[2].url,' target="_blank" >\n        <img\n          class="modal__icon_shoplink"\n          src=').concat(t(L),'\n          alt="logo"\n          width="20"\n          height="20"\n        /></a>');T.innerHTML="",T.insertAdjacentHTML("beforeEnd",f),document.querySelectorAll(".modal__icon_shoplink").forEach((function(t){k.dataTheme===k.DARK_THEME?(t.classList.add("modal__icon_dark"),t.classList.remove("modal__icon_light")):(t.classList.add("modal__icon_light"),t.classList.remove("modal__icon_dark"))})),u?(A.style.display="none",M.style.display="flex",C.style.display="flex"):(O.push(newBookShopping),M.style.display="none",C.style.display="none",A.style.display="flex")},U=(x=t(a)(t(s).mark((function e(n){var r;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(n);case 3:r=t.sent,J(r.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),e,null,[[0,7]])}))),function(t){return x.apply(this,arguments)}),B=function(t){t.preventDefault(),N()},G=function(){document.removeEventListener("keydown",V),S.removeEventListener("click",I)},V=function(t){("key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&(N(),G())},I=function(t){t.currentTarget===t.target&&(N(),G())},P=function(){(0,y.setShoppingList)(O),N(),G()},D=function(){var t;t=(0,y.getShoppingList)().filter((function(t){return t.id!==R})),(0,y.setShoppingList)(t),N(),G()},K=function(t){t.preventDefault(),R=t.target.dataset.id,(0,b.setClassModule)(),N(),U(R),document.addEventListener("keydown",V),S.addEventListener("click",I)},W=function(){(0,k.getTheme)(),j.innerHTML="",j.insertAdjacentHTML("beforeEnd",F),document.querySelector(".data_modal_close").addEventListener("click",B),A.addEventListener("click",P),M.addEventListener("click",D),(0,b.setClassModule)()},z=(b=o("lnrm6"),k=o("f2JhC"),document.querySelector(".all_books_list")),X=document.querySelector(".btn_all_categories"),Y=function(t,e){z.innerHTML="";var n=t.map((function(t){var e=t.book_image,n=t.book_image_height,r=t.book_image_width,o=t.author,a=t.title,c=t._id;return _(e,n,r,o,a,c)})).join(" ");z.innerHTML="",z.insertAdjacentHTML("afterbegin",n),z.classList.remove("js_all_categories"),z.classList.add("js_one_category"),console.log("befor title",e),function(t){var e=document.querySelector(".title_page"),n=t.trim().split(" ");console.dir(n);var r=n.length,o=n.pop(),a=n.slice(0,r-1).join(" "),c="".concat(a,'<span class="color_accent_light"> ').concat(o,"</span>");e.innerHTML="",e.insertAdjacentHTML("beforeEnd",c)}(e),document.querySelectorAll(".data_modal_open").forEach((function(t){return t.addEventListener("click",K)})),(0,b.setClassSubtitleAuthor)()},Z=function(){var e=t(a)(t(s).mark((function e(n){var r;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(n);case 3:r=t.sent,Y(r.data,n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(t){X.classList.remove("btn_category_active_light"),X.classList.remove("btn_category_active_dark");var e='[data-category="'.concat(t,'"]'),n=document.querySelector(e);k.dataTheme===k.LIGHT_THEME?n.classList.add("btn_category_active_light"):n.classList.add("btn_category_active_dark"),Z(t)};u=o("dIxxU");function $(){return tt.apply(this,arguments)}function tt(){return(tt=t(a)(t(s).mark((function e(){var n;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.default.get("/books/top-books");case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}b=o("lnrm6");var et=document.querySelector(".all_books_list"),nt=document.querySelector(".title_page"),rt=function(t){Q(t.target.dataset.category)},ot=function(t,e){return'<li class="category_books">\n    <h3 class="books_subtitle books_subtitle_light">'.concat(t,'</h3>\n    <ul class="books_list_one">\n    ').concat((n=e,n.map((function(t){var e=t.book_image,n=t.book_image_height,r=t.book_image_width,o=t.author,a=t.title,c=t._id;return _(e,n,r,o,a,c)})).join(" ")),'\n  </ul>\n  <button type="button" class="btn btn_more" data-category="').concat(t.slice(0,t.length),'">see more</button>\n  </li>');var n},at=function(){var e=t(a)(t(s).mark((function e(){var n;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$();case 3:n=t.sent,e=n.data,r=void 0,r=e.map((function(t){var e=t.list_name,n=t.books;return ot(e,n)})).join(" "),et.innerHTML="",et.insertAdjacentHTML("beforeEnd",r),et.classList.remove("js_one_category"),et.classList.add("js_all_categories"),document.querySelectorAll(".btn_more").forEach((function(t){t.addEventListener("click",rt)})),document.querySelectorAll(".data_modal_open").forEach((function(t){return t.addEventListener("click",K)})),(0,b.setClassSubtitleAuthor)(),(0,b.setClassBtn)(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}var e,r}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ct=function(){at(),nt.innerHTML="",nt.insertAdjacentHTML("beforeEnd",'Best Sellers <span class="color_accent_light">Books</span>'),(0,b.setClassTopCategories)()},it=(k=o("f2JhC"),b=o("lnrm6"),document.querySelector(".categories_list")),st=document.querySelector(".btn_all_categories"),lt=function(t){var e=t.target.dataset.category;console.log("load books one",e);var n=document.querySelectorAll(".btn_category");k.dataTheme===k.LIGHT_THEME?(n.forEach((function(t){return t.classList.remove("btn_category_active_light")})),t.target.classList.add("btn_category_active_light")):(n.forEach((function(t){return t.classList.remove("btn_category_active_dark")})),t.target.classList.add("btn_category_active_dark")),"all categories"!==e&&Q(e.trim())};st.addEventListener("click",ct);var ut,dt=function(){var e=t(a)(t(s).mark((function e(){var n;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=t(a)(t(s).mark((function e(){var n,r;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt();case 3:n=e.sent,r=t(i)(n.data),o=void 0,o=r.map((function(t){return function(t){return'<li class="category">\n  <button type="button" class="btn_category" data-category="'.concat(t.slice(0,t.length),'">').concat(t," </button>\n  </li>")}(t.list_name)})).join(""),it.insertAdjacentHTML("beforeEnd",o),document.querySelectorAll(".category").forEach((function(t){return t.addEventListener("click",lt)})),(0,b.btnCategories)(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}var o}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ht=o("dwRVi"),pt=o("21DKd"),_t=o("bxIWc"),gt=o("bDaEi");ut=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("jX5JJ");var vt=document.querySelector(".scroll_up");vt.addEventListener("click",(function(){console.log("scrollUp"),document.body.scrollTop=0,document.documentElement.scrollTop=0}));var mt='<img\n      class="img_scroll_up"\n      src='.concat(t(ut),'\n      alt="logo"\n      width="64"\n      height="64"\n  />');vt.insertAdjacentHTML("beforeEnd",mt);b=o("lnrm6");window.addEventListener("load",(function(){W(),(0,pt.renderHeader)(_t.CURRENT_PAGE_HOME),(0,gt.openMenu)(),ft(),(0,ht.loadSupport)(),ct(),(0,b.setClassByTheme)(),(0,b.setClassHeader)(),(0,b.setClassTitle)()})),window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?vt.style.display="block":vt.style.display="none"}}();
//# sourceMappingURL=index.ff555266.js.map
